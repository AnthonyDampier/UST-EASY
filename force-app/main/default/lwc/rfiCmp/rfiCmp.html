<template>
  <!-- Success Card -->
  <div class="slds-notify_container slds-is-relative" if:true={success}>
    <div role="alert" class="slds-notify slds-notify_toast slds-theme_success">
      <div class="slds-notify__content">
        <h2 class="slds-text-heading_small">Success</h2>
      </div>
    </div>
  </div>

  <lightning-record-edit-form 
    object-api-name={objectApiName} 
    density="comfy"
    onsubmit={handleSubmit}
    onload={handleLoad}>
    <!-- <lightning-messages></lightning-messages> -->

    <div class="slds-grid slds-wrap" if:false={loading}>
      <div class="slds-col slds-size_1-of-1">
        <lightning-input-field field-name={nameField}></lightning-input-field>
      </div>

      <div class="slds-col slds-size_1-of-1">
        <lightning-input-field field-name={emailField}></lightning-input-field>
      </div>

      <div class="slds-col slds-size_1-of-1 slds-small-size_1-of-2">
        <lightning-input-field field-name={phoneField}></lightning-input-field>
      </div>
      <div class="slds-col slds-size_1-of-1 slds-small-size_1-of-2">
        <lightning-input-field field-name={mobilePhoneField}></lightning-input-field>
      </div>

      <div class="slds-col slds-size_1-of-1">
        <lightning-input-field field-name={companyField}></lightning-input-field>
      </div>

      <div class="slds-col slds-size_1-of-1 slds-align_absolute-center">
        <div class="slds-var-m-top_medium">
          <lightning-button variant="brand" type="submit" label="Submit Request"></lightning-button>
        </div>
      </div>
    </div>
  </lightning-record-edit-form>

  <lightning-spinner 
    size="large"
    alternative-text="Loading..."
    if:true={loading}>
  </lightning-spinner>
</template>